<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body></body>
  <script>
    /**
     * @param {number[]} height
     * @return {number}
     */
    var trap = function (height) {
      let res = 0
      let left = 0,
        right = height.length - 1
      let leftMax = 0,
        rightMax = 0
      while (left < right) {
        leftMax = Math.max(height[left], leftMax)
        rightMax = Math.max(height[right], rightMax)
        if (height[left] < height[right]) {
          res += leftMax - height[left]
          left++
        } else {
          res += rightMax - height[right]
          right--
        }
      }
      return res
    }
  </script>
</html>
